{"version":3,"sources":["../../../src/services/_deprecated/aws.ads.js"],"names":[],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA","file":"aws.ads.js","sourcesContent":["// import hmacSHA256 from 'crypto-js/hmac-sha256';\n// import base64 from 'crypto-js/enc-base64';\n// import axios from 'axios';\n\n// class ADS {\n//   constructor(initOptions){\n//     if (!initOptions.AmzSecretKey) throw new Error('AmzSecretKey is required to initialize an MWS instance');\n//     if (!initOptions.AWSAccessKeyId) throw new Error('AWSAccessKeyId is required to initialize an MWS instance');\n//     this.initOptions = initOptions;\n//   }\n//   use(o) {\n//     let options = Object.assign({}, o);\n//     const {initOptions} = this;\n    \n//     const method = options.method || 'GET';\n//     let url = 'https://';\n//     url += options.base || 'webservices.amazon.com/onca/xml';\n//     url += options.endpoint || '';\n//     let tm = new Date().toISOString()\n//     options.params = {\n//       AWSAccessKeyId: options.AWSAccessKeyId || initOptions.AWSAccessKeyId,\n//       ...options,\n//       Timestamp: tm\n//     }\n//     console.log(options.params.Timestamp);\n\n//     let paramsArr = Object.keys(options.params).map((param) => [param, options.params[param]]);\n//     paramsArr.sort((a, b) =>  a[0] > b[0] ? 1 : -1)\n\n//     let keys = [];\n//     let vals = [];\n//     paramsArr.forEach(tuple => {\n//       keys.push(encodeURIComponent(tuple[0]));\n//       vals.push(encodeURIComponent(tuple[1]));\n//     });\n\n//     let paramsString = keys.map((key, index) => {\n//       return key + '=' + vals[index];\n//     }).join(\"&\");\n//     // AWSAccessKeyId=AKIAIAOHXIHGOHSC4TJA&AssociateTag=revieweer-20&ItemId=B01J24C0TI&Operation=ItemLookup&ResponseGroup=Images%252CItemAttributes%252COffers%252CReviews&Service=AWSECommerceService&Timestamp=2018-02-10T07%3A37%3A41.694Z&Version=2013-08-01\n//     // Service=AWSECommerceService&Operation=ItemLookup&SubscriptionId=AKIAIAOHXIHGOHSC4TJA&AssociateTag=revieweer-20&ItemId=B01J24C0TI&IdType=ASIN&ResponseGroup=Images,ItemAttributes,Offers,Reviews\n//     let queryString = 'AWSAccessKeyId=AKIAIAOHXIHGOHSC4TJA&AssociateTag=revieweer-20&IdType=ASIN&ItemId=B01J24C0TI&Operation=ItemLookup&ResponseGroup=Images%2CItemAttributes%2COffers%2CReviews&Service=AWSECommerceService&Timestamp=2018-02-10T07%3A36%3A59.000Z'\n//     let query = [method, options.base, options.endpoint, paramsString];\n//     console.log(query);\n\n//     const hmac = hmacSHA256(queryString, options.AmzSecretKey || initOptions.AmzSecretKey);\n//     let sig = base64.stringify(hmac);\n//     let sigString = sig.replace(/\\+/g, '%2B').replace(/=/g, '%3D');\n//     console.log('sigString:::', sigString);\n//     let deliveryOption = {\n//       method: method.toString().toLowerCase(),\n//       url: url,\n//       params: {\n//         ...options.params,\n//         Signature: sigString\n//       }\n//     }\n//     // console.log(deliveryOption)\n//     // console.log('request option', deliveryOption)\n//     return axios(deliveryOption);\n//   }\n// }\n\n// export default ADS;\n\n// // /onca/xml?AWSAccessKeyId=AKIAIOSFODNN7EXAMPLE&AssociateTag=mytag-20&ItemId=0679722769&Operation=ItemLookup&ResponseGroup=Images%2CItemAttributes%2COffers%2CReviews&Service=AWSECommerceService&Timestamp=2014-08-18T12%3A00%3A00Z&Version=2013-08-01&Signature=j7bZM0LXZ9eXeZruTqWm2DIvDYVUU3wxPPpp%2BiXxzQc%3D\n// // /onca/xml?AWSAccessKeyId=AKIAIAOHXIHGOHSC4TJA&AssociateTag=revieweer-20&ItemId=B01J24C0TI&Operation=ItemLookup&ResponseGroup=Images%252CItemAttributes%252COffers%252CReviews&Service=AWSECommerceService&Timestamp=2018-02-10T07:02:50.862Z&Version=2013-08-01&Signature=kGCUZMW7AVo2O07KYZYx%2BhIcbB%2FtmbjXDcS%2FOh4CpfI%3D\n"]}